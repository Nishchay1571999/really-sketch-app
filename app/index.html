<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<meta name="mobile-web-app-capable" content="yes">
<meta name="description" content="Simple online graph paper with basic drafting tools. Easy to use. Create your own precision drawings, floor plans, and blueprints for free." />
<meta property="og:image" content="https://reallysketch.com/thumbnail.png" />
<title>Really Sketch</title>
<link rel="canonical" href="https://reallysketch.com/" />
<link rel="alternate" hreflang="en" href="https://reallysketch.com/">
<link rel="manifest" href="/manifest.json" />
<link rel="icon" sizes="192x192" href="/icon-192.png" />
<link rel="icon" sizes="16x16" href="/favicon.ico" />
<script>

var canvas, bgcanvas, tool, touchscreen, interaction, mouseX, mouseY;

function help(text) { // maybe this should be in refresh and ref tool.help
  document.getElementById("help").innerHTML = text;
}

function snap(x, y, u, v) {
  var target = {x: x, y: y};
  var origin = {x: u, y: v};
  var snapped = {};
  var snapper = 1;
  var snap2 = 1;
  if(drawing.drawing.snap > 0) {
    snapper = drawing.drawing.snap;
  }
  if(drawing.drawing.lensnap > 0) {
    snap2 = drawing.drawing.lensnap;
  }
  
  var grid = {};
  //if(drawing.drawing.snap === 0) {
  //  grid.x = target.x;
  //  grid.y = target.y;
  //  grid.d = 100;
  //} else {
    grid.x = Math.round(target.x / snapper) * snapper;
    grid.y = Math.round(target.y / snapper) * snapper;
    grid.d = Math.sqrt(Math.pow(target.x - grid.x, 2) + Math.pow(target.y - grid.y, 2));
  //}
  
  // endpoints, just going to overwrite grid so I don't have to mess with
  // 3 way compar with angle later
  // does not work when gridsnap is turned off though
  if(drawing.drawing.endsnap > 0) {
    // if grid snap is off initialize this to the first point before looping
    if(snapper === 1) {
      grid.x = drawing.drawing.points[0][0];
      grid.y = drawing.drawing.points[0][1];
      grid.d = Math.sqrt(Math.pow(target.x - drawing.drawing.points[0][0], 2) + Math.pow(target.y - drawing.drawing.points[0][1], 2));
    }
    //loop through points
    for(var i = 0; i < drawing.drawing.points.length; i++) {
      var dist = Math.sqrt(Math.pow(target.x - drawing.drawing.points[i][0], 2) + Math.pow(target.y - drawing.drawing.points[i][1], 2));
      if(dist <= grid.d) {
        grid.x = drawing.drawing.points[i][0];
        grid.y = drawing.drawing.points[i][1];
        grid.d = dist;
      }
    }
  }
  
  snapped.x = grid.x;
  snapped.y = grid.y;
  var coordX = Math.round(snapped.x * 1000 / drawing.drawing.grid) / 1000;
  var coordY = Math.round(snapped.y * 1000 / drawing.drawing.grid) / 1000;
  
  
  if(origin.x !== undefined && origin.y !== undefined) {
    var angle = {};
    var a = Math.atan2((target.y - origin.y), (target.x - origin.x));
    
    if(drawing.drawing.anglesnap > 0) {
      a = Math.round((a*180/Math.PI) / drawing.drawing.anglesnap) * drawing.drawing.anglesnap;
    } else {
      a = a*180/Math.PI;
    }
    var r = Math.sqrt(Math.pow(target.x - origin.x, 2) + Math.pow(target.y - origin.y, 2));
    r = Math.round(r / snap2) * snap2;
    
    //use new a and r to calculate xy from origin
    angle.x = Math.cos(a*Math.PI/180) * r + origin.x;
    angle.y = Math.sin(a*Math.PI/180) * r + origin.y;
    angle.d = Math.sqrt(Math.pow(target.x - angle.x, 2) + Math.pow(target.y - angle.y, 2));

    if(drawing.drawing.anglesnap > 0 || snap2 > 1) {
    if(angle.d <= grid.d || (snapper == 1 && drawing.drawing.endsnap == 0)) {
      snapped.x = angle.x;
      snapped.y = angle.y;
      coordX = Math.round(r * 1000 / drawing.drawing.grid) / 1000;
      if(a > 0) {
        a = a - 360;
      }
      coordY = Math.round(a * -1000) / 1000 + "&deg;";
    }
    }
    
  }
  
  document.getElementById("coords").innerHTML = coordX + ", " + coordY;
  document.getElementById("coords").style.display = "block";
  document.getElementById("coords").style.left = (mouseX + 32) + "px";
  document.getElementById("coords").style.top = (mouseY - 32) + "px";
  
  return {x: snapped.x, y: snapped.y};
}

var drawing = new Object();
drawing.drawing = new Object();
drawing.drawing.grid = 96 / 1;
drawing.drawing.divisions = 8;
drawing.drawing.gridsnap = 1;
drawing.drawing.lengthsnap = 1;
drawing.drawing.lensnap = drawing.drawing.grid / drawing.drawing.divisions * drawing.drawing.lengthsnap;
drawing.drawing.anglesnap = 15;
drawing.drawing.snap = drawing.drawing.grid / drawing.drawing.divisions * drawing.drawing.gridsnap;
drawing.drawing.endsnap = 1;

drawing.drawing.points = [];
drawing.drawing.objects = [];
drawing.undo = function() {
  this.drawing.objects.splice(-1,1);
  this.refresh();
}
drawing.clear = function() {
  this.drawing.objects.length = 0;
  this.refresh();
}
drawing.refresh = function() {
  canvas.canvas.width = document.body.clientWidth; //window.innerWidth;
  canvas.canvas.height = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight); //window.innerHeight;
  canvas.translate(0.5, 0.5);
  bgcanvas.canvas.width = document.body.clientWidth; //window.innerWidth;
  bgcanvas.canvas.height = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight); //window.innerHeight;
  bgcanvas.translate(0.5, 0.5);
  canvas.clearRect(0, 0, canvas.canvas.width, canvas.canvas.height);
  bgcanvas.fillStyle = "#fff";
  bgcanvas.fillRect(0, 0, bgcanvas.canvas.width, bgcanvas.canvas.height);
  canvas.fillStyle = "#FFA0A0";
  canvas.lineCap = "square";
  
  if(this.drawing.grid === 0 || this.drawing.divisions === 0) {
    return; // otherwise you crash your browser
  }
  
  document.getElementById("grid").value = Math.round(96 * 100 / drawing.drawing.grid) / 100;
  document.getElementById("divisions").value = drawing.drawing.divisions;
  document.getElementById("gridsnap").value = drawing.drawing.gridsnap;
  document.getElementById("lengthsnap").value = drawing.drawing.lengthsnap;
  document.getElementById("anglesnap").value = drawing.drawing.anglesnap;
  document.getElementById("endsnap").value = drawing.drawing.endsnap;
  
  var v, h;
  bgcanvas.beginPath();
  v = this.drawing.grid / this.drawing.divisions;
  while (v < bgcanvas.canvas.width) {
    bgcanvas.moveTo(Math.round(v), 0);
    bgcanvas.lineTo(Math.round(v), bgcanvas.canvas.height);
    v = v + (this.drawing.grid / this.drawing.divisions);
  }
  h = this.drawing.grid / this.drawing.divisions;
  while (Math.round(h) < bgcanvas.canvas.height) {
    bgcanvas.moveTo(0, Math.round(h));
    bgcanvas.lineTo(bgcanvas.canvas.width, h);
    h = h + (this.drawing.grid / this.drawing.divisions);
  }
  bgcanvas.lineWidth = 1;
  bgcanvas.strokeStyle = "#E3F1FE";
  bgcanvas.stroke();
  
  bgcanvas.beginPath();
  v = this.drawing.grid;
  while (v < bgcanvas.canvas.width) {
    bgcanvas.moveTo(Math.round(v), 0);
    bgcanvas.lineTo(Math.round(v), bgcanvas.canvas.height);
    v = v + this.drawing.grid;
  }
  h = this.drawing.grid;
  while (h < bgcanvas.canvas.height) {
    bgcanvas.moveTo(0, Math.round(h));
    bgcanvas.lineTo(bgcanvas.canvas.width, Math.round(h));
    h = h + this.drawing.grid;
  }
  bgcanvas.lineWidth = 1;
  bgcanvas.strokeStyle = "#BEDBF8";
  bgcanvas.stroke();
  
  canvas.lineWidth = 2;
  canvas.strokeStyle = "#333";
  this.drawing.objects.forEach(function(obj) {
    canvas.beginPath();
    if(obj.type === "line") {
      if(obj.x === obj.u && obj.y === obj.v) {
        canvas.arc(obj.x, obj.y, 0.75, 0, 2 * Math.PI, true);
        canvas.stroke();
      } else {
        canvas.moveTo(obj.x, obj.y);
        canvas.lineTo(obj.u, obj.v);
        canvas.stroke();
      }
    } else if(obj.type === "arc") {
      canvas.arc(obj.x, obj.y, obj.r, obj.a, obj.b, true);
      canvas.stroke();
    } else if(obj.type === "eraser") {
      canvas.globalCompositeOperation = 'destination-out';
      canvas.arc(obj.x, obj.y - canvas.canvas.height, obj.r, 0, 2 * Math.PI, true);
      canvas.shadowOffsetY = canvas.canvas.height;
      canvas.shadowColor = '#000';
      canvas.shadowBlur = obj.r / 4;
      canvas.fill();
      canvas.globalCompositeOperation = 'source-over';
      canvas.shadowOffsetY = 0;
      canvas.shadowBlur = 0;
    }
  });
  canvas.strokeStyle = "#D6D6D6";
}
drawing.import = function() {
  var upload = document.createElement("input");
  upload.setAttribute("type", "file");
  upload.onchange = function() {
    var reader = new FileReader();
    var file = this.files[0];
    reader.readAsText(file, "utf-8");
    reader.onload = function (e) {
      var temp = JSON.parse(e.target.result);
      drawing.drawing = temp.drawing;
      // for previous version saves
      if(drawing.drawing.lengthsnap === undefined) {
        drawing.drawing.lengthsnap = 1;
        drawing.drawing.lensnap = drawing.drawing.grid / drawing.drawing.divisions * drawing.drawing.lengthsnap;
      }
      if(drawing.drawing.name === undefined) {
        drawing.drawing.name = "Drawing";
      }
      document.getElementById("name").value = drawing.drawing.name;
      drawing.refresh();
    }
  }
  upload.click();
}
drawing.export = function() {
  var name = document.getElementById("name").value;
  name = name.replace(/[^a-z0-9_\-\s.'()]/gi, '');
  if(name === "") {
    name = "Drawing";
  }
  
  var temp = new Object();
  temp.drawing = this.drawing;
  temp.drawing.name = name;
  var json = encodeURIComponent(JSON.stringify(temp));

  var link = document.createElement("a");
  link.setAttribute("href", "data:text/json;charset=utf-8," + json);
  link.setAttribute("download", name + ".json");
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}
drawing.save = function() {
  var name = document.getElementById("name").value;
  name = name.replace(/[^a-z0-9_\-\s.'()]/gi, '');
  if(name === "") {
    name = "Drawing";
  }
  bgcanvas.drawImage(canvas.canvas, 0, 0);
  var link = document.createElement("a");
  link.setAttribute("href", bgcanvas.canvas.toDataURL('image/png'));
  link.setAttribute("download", name + ".png");
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}

var mouse = new Object();
mouse.click = function(e) {
  if(e.touches) {
    mouseX = e.changedTouches[0].pageX;
    mouseY = e.changedTouches[0].pageY - 48;
  } else {
    mouseX = e.clientX;
    mouseY = e.clientY;
  }
  tool.click(mouseX, mouseY);
}
mouse.move = function(e) {
  if(e.touches) {
    mouseX = e.touches[0].clientX;
    mouseY = e.touches[0].clientY - 48;
    e.preventDefault();
  } else {
    mouseX = e.clientX;
    mouseY = e.clientY;
  }
  drawing.refresh();
  tool.move(mouseX, mouseY);
}
mouse.hide = function(e) {
  document.getElementById("coords").style.display = "none";
  drawing.refresh();
}

function Line() {
  help(interaction + " to set new line start point");
  this.points = 0;
  this.coords = {};
  this.coords.type = "line";
  this.click = function(x, y) {
    this.points = this.points + 1;
    if(this.points === 1) {
      help(interaction + " to set line end point");
    } else if(this.points === 2) {
      this.save();
      this.reset();
    }
  }
  this.reset = function() {
    tool = new Line();
    drawing.refresh();
    tool.move(mouseX, mouseY);
  }
  this.move = function(x, y) {
    var snapped;
    if(this.points === 0) {
      snapped = snap(x, y);
      this.coords.x = snapped.x;
      this.coords.y = snapped.y;
    } else if(this.points === 1) {
      snapped = snap(x, y, this.coords.x, this.coords.y);
      
      this.coords.u = snapped.x;
      this.coords.v = snapped.y;
      canvas.beginPath();
      canvas.moveTo(this.coords.x, this.coords.y);
      canvas.lineTo(this.coords.u, this.coords.v);
      canvas.stroke();
    }
    canvas.beginPath();
    canvas.arc(snapped.x, snapped.y, 2.5, 0, 2 * Math.PI, true);
    canvas.fill();
  }
  this.save = function() {
    drawing.drawing.objects.push(this.coords);
    drawing.drawing.points.push([this.coords.x, this.coords.y]);
    drawing.drawing.points.push([this.coords.u, this.coords.v]);
    mouse.hide();
  }
}

function Arc() {
  help(interaction + " to set new arc center point");
  this.points = 0;
  this.coords = {};
  this.coords.type = "arc";
  this.click = function(x, y) {
    this.points = this.points + 1;
    if(this.points === 1) {
      help(interaction + " to set arc radius and start angle");
    } else if(this.points === 2) {
      help(interaction + " to set arc end angle");
    } else if(this.points === 3) {
      this.save();
      this.reset();
    }
  }
  this.reset = function() {
    tool = new Arc();
    drawing.refresh();
    tool.move(mouseX, mouseY);
  }
  this.move = function(x, y) {
    var snapped;
    if(this.points === 0) {
      snapped = snap(x, y);
      this.coords.x = snapped.x;
      this.coords.y = snapped.y;
    } else if(this.points === 1) {
      snapped = snap(x, y, this.coords.x, this.coords.y);
      
      this.coords.a = Math.atan2((snapped.y - this.coords.y), (snapped.x - this.coords.x));
      this.coords.r = Math.round(Math.sqrt(Math.pow(snapped.x - this.coords.x, 2) + Math.pow(snapped.y - this.coords.y, 2)) * 1000)/1000;
      canvas.beginPath();
      canvas.arc(this.coords.x, this.coords.y, this.coords.r, 0, 2 * Math.PI, true);
      canvas.moveTo(this.coords.x, this.coords.y);
      canvas.lineTo(snapped.x, snapped.y);
      canvas.stroke();
      
    } else if(this.points === 2) {
      snapped = snap(x, y, this.coords.x, this.coords.y);
      
      this.coords.b = Math.atan2((snapped.y - this.coords.y), (snapped.x - this.coords.x));
      if(this.coords.b === this.coords.a) {
        this.coords.b = this.coords.a - 2 * Math.PI;
      }
      canvas.beginPath();
      canvas.arc(this.coords.x, this.coords.y, this.coords.r, this.coords.a, this.coords.b, true);
      canvas.moveTo(this.coords.x, this.coords.y);
      canvas.lineTo(snapped.x, snapped.y);
      canvas.stroke();
      
      // left cause it is prettier than the output of snap function
      var d = this.coords.b - this.coords.a;
      d = Math.round(d * -360 * 1000 / (2 * Math.PI)) / 1000;
      if(d < 0) {
        d = d + 360;
      }
      document.getElementById("coords").innerHTML = d + "&deg;";
    }
    canvas.beginPath();
    canvas.arc(snapped.x, snapped.y, 2.5, 0, 2 * Math.PI, true);
    canvas.fill();
  }
  this.save = function() {
    drawing.drawing.objects.push(this.coords);
    drawing.drawing.points.push([this.coords.x, this.coords.y]);
    drawing.drawing.points.push([this.coords.x + this.coords.r * Math.cos(this.coords.a), this.coords.y + this.coords.r * Math.sin(this.coords.a)]);
    drawing.drawing.points.push([this.coords.x + this.coords.r * Math.cos(this.coords.b), this.coords.y + this.coords.r * Math.sin(this.coords.b)]);
    mouse.hide();
  }
}

function Eraser() {
  help(interaction + " to position eraser");
  this.points = 0;
  this.coords = {};
  this.coords.type = "eraser";
  this.click = function(x, y) {
    this.save();
    this.reset();
  }
  this.reset = function() {
    tool = new Eraser();
    drawing.refresh();
    tool.move(mouseX, mouseY);
  }
  this.move = function(x, y) {
    if(this.points === 0) {
      this.coords.x = x;
      this.coords.y = y;
      if(drawing.drawing.snap === 0) {
        this.coords.r = 16;
      } else {
        this.coords.r = drawing.drawing.snap - 1;
      }

      canvas.beginPath();
      canvas.arc(this.coords.x, this.coords.y, this.coords.r, 0, 2 * Math.PI, true);
      canvas.stroke();
    }
    canvas.beginPath();
    canvas.arc(x, y, 2.5, 0, 2 * Math.PI, true);
    canvas.fill();
  }
  this.save = function() {
    drawing.drawing.objects.push(this.coords);
    mouse.hide();
  }
}

window.addEventListener("load", function () {
  canvas = document.getElementById("canvas").getContext("2d");
  bgcanvas = document.getElementById("bgcanvas").getContext("2d");
  canvas.canvas.addEventListener("mousedown", mouse.click);
  canvas.canvas.addEventListener("mousemove", mouse.move);
  canvas.canvas.addEventListener("touchend", mouse.click);
  canvas.canvas.addEventListener("touchmove", mouse.move);
  canvas.canvas.addEventListener("mouseout", mouse.hide);

  var buttons = document.getElementsByTagName("button");
  Array.prototype.forEach.call(buttons, buttonHandler);
  
  var selects = document.getElementsByTagName("select");
  Array.prototype.forEach.call(selects, selectHandler);
  
  var links = document.getElementsByTagName("a");
  Array.prototype.forEach.call(links, linkHandler);
  
  var dialogs = document.getElementsByClassName("dialog");
  Array.prototype.forEach.call(dialogs, dialogHandler);
  
  document.getElementById("file-link").className = "active";
  document.getElementById("file").className = "active";
  
  if('ontouchstart' in window) {
    touchscreen = "Yes";
    interaction = "Drag";
  } else {
    touchscreen = "No";
    interaction = "Click";
  }
  document.getElementById("help").innerHTML = interaction + " to set new line start point";
  
  document.getElementById("dynamic").setAttribute("href", "mail" + decodeURIComponent("to" + ":" + "chrispalmeri" + "%40%67%6d%61%69") + "l.com");
  
  tool = new Line();
  drawing.refresh();
});

window.addEventListener("resize", function() {
  drawing.refresh();
});

function buttonHandler(button) {
  button.addEventListener("click", buttonClick);
}
function selectHandler(select) {
  select.addEventListener("change", selectChange);
}
function linkHandler(link) {
  if(link.href.indexOf("#") > 0) {
    link.addEventListener("click", linkClick);
  }
}
function dialogHandler(dialog) {
  dialog.addEventListener("click", dialogClick);
}

function linkClick(e) {
  var old = document.getElementsByClassName("active");
  var i;
  for (i = old.length; i > 0; i--) {
    old[i-1].className = "";
  }
  var section = e.target.href;
  section = section.substring(section.indexOf("#")+1);
  document.getElementById(section).className = "active";
  e.target.className = "active";
  e.preventDefault();
}

function buttonClick(e) {
  var youClicked = {
    "line-button": function () {
      tool = new Line();
    },
    "arc-button": function () {
      tool = new Arc();
    },
    "eraser-button": function () {
      tool = new Eraser();
    },
    "undo-button": function () {
      drawing.undo();
    },
    "options-button": function () {
      document.getElementById("options").style.display = "block";
    },
    "options-close": function () {
      document.getElementById("options").style.display = "none";
    },
    "info": function () {
      // var dpi = "<table><tr><td width=\"60%\">Window Width:</td><td>" + document.body.clientWidth;
      // dpi += "</td></tr><tr><td>Device Pixel Ratio:</td><td>" + window.devicePixelRatio;
      // dpi += "</td></tr><tr><td>Touch Screen:</td><td>" + touchscreen;
      // dpi += "</td></tr></table>";
      // document.getElementById("dpi").innerHTML = dpi;
  
      document.getElementById("drawingOptions").style.display = 'none';
      document.getElementById("appInfo").style.display = 'block';
    },
    "ok": function () {
      document.getElementById("appInfo").style.display = 'none';
    },
    "clear": function () {
      drawing.clear();
    },
    "save": function () {
      drawing.save();
    },
    "export": function () {
      drawing.export();
    },
    "import": function () {
      drawing.import();
    }
  }
  youClicked[e.target.id]();
}

function dialogClick(e) {
  if(e.target.className === "dialog") {
    e.target.style.display = "none";
  }
}

function selectChange(e) {
  var youClicked = {
    "grid": function () {
      drawing.drawing.grid = 96 / e.target.value;
      drawing.drawing.snap = drawing.drawing.grid / drawing.drawing.divisions * drawing.drawing.gridsnap;
      drawing.drawing.lensnap = drawing.drawing.grid / drawing.drawing.divisions * drawing.drawing.lengthsnap;
      drawing.refresh();
    },
    "divisions": function () {
      drawing.drawing.divisions = e.target.value;
      drawing.drawing.snap = drawing.drawing.grid / drawing.drawing.divisions * drawing.drawing.gridsnap;
      drawing.drawing.lensnap = drawing.drawing.grid / drawing.drawing.divisions * drawing.drawing.lengthsnap;
      drawing.refresh();
    },
    "gridsnap": function () {
      drawing.drawing.gridsnap = e.target.value;
      drawing.drawing.snap = drawing.drawing.grid / drawing.drawing.divisions * drawing.drawing.gridsnap;
      drawing.refresh();
    },
    "lengthsnap": function () {
      drawing.drawing.lengthsnap = e.target.value;
      drawing.drawing.lensnap = drawing.drawing.grid / drawing.drawing.divisions * drawing.drawing.lengthsnap;
      drawing.refresh();
    },
    "anglesnap": function () {
      drawing.drawing.anglesnap = e.target.value;
      drawing.refresh();
    },
    "endsnap": function () {
      drawing.drawing.endsnap = e.target.value;
      drawing.refresh();
    }
  }
  youClicked[e.target.id]();
}

window.addEventListener("keydown", function (e) {
  var elem = e.target.tagName.toLowerCase();
  // anything not on a text input
  if (elem !== 'input' && elem !== 'select') {
    if(e.ctrlKey && e.keyCode === 90) {
      drawing.undo();
    }
    if(e.keyCode === 27) {
      tool.reset();
      // also make sure options closes
      document.getElementById("options").style.display = "none";
    }
    if(e.shiftKey && e.keyCode === 191) {
      var old = document.getElementsByClassName("active");
      var i;
      for (i = old.length; i > 0; i--) {
        old[i-1].className = "";
      }
      document.getElementById("shortcuts-link").className = "active";
      document.getElementById("shortcuts").className = "active";
      document.getElementById("options").style.display = "block";
    }
  }
});

</script>

<style>

html, body {
  height: 100%;
  width: 100%;
}
canvas, bgcanvas {
  position: fixed;
  z-index: 2;
  top: 0;
  left: 0;
  display: block;
  height: 100%;
  width: 100%;
}
footer {
  position: fixed;
  z-index: 4;
  bottom: 16px;
  right: 16px;
}
#help, #coords {
  display: inline-block;
  background: #FFFBE3;
  padding: 1px 8px;
  border: 1px solid #8A8A8A;
  border-radius: 2px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}
#coords {
  position: fixed;
  z-index: 5;
  display: none;
}

/* division */

body {
  font: 14px sans-serif;
  line-height: 22px;
  margin: 0;
}
h2, h3 {
  font-size: 16px;
  margin: 0;
}
h3 {
  display: none;
}
h3, p {
  margin: 0 0 16px;
}
ul {
  list-style: none;
  padding: 0;
  margin: 0;
  text-align: center;
}
a, button, select, input {
  font: 14px sans-serif;
  box-sizing: content-box;
  outline: none;
}
select {
  float: right;
  width: 100px;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding: 2px;
  border: 1px solid #8A8A8A;
  border-radius: 2px;
  
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><polygon fill='%238A8A8A' points='1,2 5,9 9,2'></polygon></svg>");
  background-position: right 6px center;
  background-repeat: no-repeat;
}
/* removed ", #about a" from next three rules */
button, .actions a {
  cursor: pointer;
  font: 14px sans-serif;
  display: block;
  background: #D6D6D6;
  border: 1px solid #8A8A8A;
  border-radius: 2px;
}
button:hover, .actions a:hover {
  background: #BDBDBD;
}
button:focus, .actions a:focus {
  background: #BDBDBD;
}
button::-moz-focus-inner, select::-moz-focus-inner {
  padding: 0;
  border: 0;
}
.actions {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 3;
  padding: 8px;
}
.actions li {
  margin: 8px;
  border-radius: 2px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}
/* removed ", #about a" from following rule */
.actions button, .actions a {
  width: 64px;
  position: relative;
  color: #000;
  text-decoration: none;
  text-align: center;
  padding: 4px;
}
.dialog {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  z-index: 5;
  height: 100%;
  min-height: 360px;
  display: none;
  background: rgba(0, 0, 0, 0.02);
}
.dialog div {
  position: absolute;
  top: 50%;
  left: 32px;
  right: 32px;
  transform: translate(0, -50%);
  max-width: 440px;
  background: #fff;
  border: 1px solid #8A8A8A;
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  margin: auto;
}
.dialog header {
  width: 100%;
  float: left;
  background: #D6D6D6;
  border-bottom: 1px solid #8A8A8A;
  border-radius: 3px 3px 0 0;
}
.dialog header h2 {
  float: left;
  margin: 12px 12px 11px;
}
.dialog header svg {
  display: block;
}
.dialog header button {
  float: right;
  font-weight: bold;
  padding: 3px;
  margin: 12px 12px 0;
  border: none;
  background: transparent;
}
.dialog header button:hover svg polygon, .dialog header button:focus svg polygon {
  fill: #000;
}
.dialog aside {
  height: 248px; /* 334 - header */
  width: 30%;
  float: left;
  background: #EEEEEE;
  border-radius: 0 0 0 3px;
}
.dialog aside ul {
  margin-top: 16px;
}
.dialog aside a {
  color: #000;
  text-decoration: none;
  display: block;
  padding: 8px;
  margin-bottom: 6px;
  margin-left: 4px;
}
.dialog aside a:hover, .dialog aside a:focus  {
  background: #fff;
  border-left: 4px solid #fff;
  margin-left: 0;
}
.dialog aside a.active  {
  background: #fff;
  border-left: 4px solid #FFA0A0;
  margin-left: 0;
}
.dialog section {
  display: none;
  padding: 20px 28px;
  margin-top: 46px;
  margin-left: 30%;
}
.dialog section.active {
  display: block;
}
.dialog section p {
  height: 24px;
  clear: right;
}
.dialog section input {
  width: 92px;
  float: right;
  padding: 3px 6px;
  border: 1px solid #8A8A8A;
  border-radius: 2px;
}
/* removed ", #about a" from following rule */
.dialog section button {
  float: right;
  width: 100px;
  padding: 3px 2px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}
/* #about input {
  text-align: center;
}
input:disabled {
  background: #eee;
} */
#about a {
  color: #5F94C8;
}

#shortcuts ul {
  text-align: left;
}
#shortcuts ul li {
  margin-bottom: 8px;
}
#shortcuts span {
  width: 106px;
  display: inline-block;
  text-align: left;
}
#shortcuts span i {
  font: normal 12px sans-serif;
  padding: 3px 4px 2px;
  background: #eee;
  border: 1px solid #8A8A8A;
  border-radius: 2px;
  margin-left: 8px;
}

#color-button, #interface-link, #theme-link {
  display: none;
}
</style>
</head>
<body>

<main>
  <canvas id="bgcanvas"></canvas>
  <canvas id="canvas"></canvas>
</main>

<aside>

<nav class="actions">
  <ul>
    <li><button id="line-button">Line</button></li>
    <li><button id="arc-button">Arc</button></li>
    <!-- <li><button id="text-button">Text</button></li> -->
    <li><button id="eraser-button">Eraser</button></li>
    <li><button id="color-button">Color</button></li>
    <li><button id="undo-button">Undo</button></li>
    <li><button id="options-button">Options</a></li>
  </ul>
</nav>

<section class="dialog" id="options">
<div>
  <header>
    <h2>Options</h2>
    <button id="options-close">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><polygon fill="#8A8A8A" points="3,1 1,3 6,8 1,13 3,15 8,10 13,15 15,13 10,8 15,3 13,1 8,6"></polygon></svg>
    </button>
  </header>
  <aside>
    <nav>
      <ul>
        <li><a id="file-link" href="#file">Project</a></li>
        <li><a id="interface-link" href="#interface">Interface</a></li>
        <li><a id="units-link" href="#units">Units</a></li>
        <li><a id="snaps-link" href="#snaps">Snaps</a></li>
        <li><a id="theme-link" href="#theme">Theme</a></li>
        <li><a id="shortcuts-link" href="#shortcuts">Shortcuts</a></li>
        <li><a id="about-link" href="#about">About</a></li>
      </ul>
    </nav>
  </aside>
  <section id="file">
    <h3>Project</h3>
    <p>Project Name: <input id="name" value="Drawing" /></p>
    <p>Save As Image: <button id="save">Save</button></p>
    <p>Export JSON File: <button id="export">Export</button></p>
    <p>Import JSON File: <button id="import">Import</button></p>
  </section>
  <section id="interface">
    <h3>Interface</h3>
    <p>Drawing Mode:
      <select>
        <option>Drafting</option>
        <option>Pixel Art</option>
      </select>
    </p>
    <p>Grid Style:
      <select>
        <option>None</option>
        <option>Lines</option>
        <option>Dots</option>
      </select>
    </p>
    <p>Snap Marker:
      <select>
        <option>Off</option>
        <option>On</option>
      </select>
    </p>
    <p>Tooltip:
      <select>
        <option>Off</option>
        <option>On</option>
      </select>
    </p>
    <p>Hints:
      <select>
        <option>Off</option>
        <option>On</option>
      </select>
    </p>
  </section>
  <section id="units">
    <h3>Units</h3>
    <p>Primary Grid Size:
      <select id="grid">
        <option value="1">Inch</option>
        <option value="2.54">Centimeter</option>
      </select>
    </p>
    <p>Secondary Divisions:
      <select id="divisions">
        <option value="2">2</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="8">8</option>
        <option value="10">10</option>
        <option value="12">12</option>
      </select>
    </p>
    <!--<p>Tooltip Display Units:
      <select>
        <option>Primary</option>
        <option>Secondary</option>
      </select>
    </p>-->
  </section>
  <section id="snaps">
    <h3>Snaps</h3>
    <p>Snap To Grid:
      <select id="gridsnap">
        <option value="0">Off</option>
        <option value="0.5">0.5</option>
        <option value="1">1</option>
      </select>
    </p>
    <p>Snap To Endpoint:
      <select id="endsnap">
        <option value="0">Off</option>
        <option value="1">On</option>
      </select>
    </p>
    <p>Snap To Angle:
      <select id="anglesnap">
        <option value="0">Off</option>
        <option value="1">1</option>
        <option value="3">3</option>
        <option value="5">5</option>
        <option value="15">15</option>
        <option value="30">30</option>
        <option value="45">45</option>
      </select>
    </p>
    <p>Snap To Length:
      <select id="lengthsnap">
        <option value="0">Off</option>
        <option value="0.5">0.5</option>
        <option value="1">1</option>
      </select>
    </p>
  </section>
  <section id="theme">
    <h3>Theme</h3>
    <p>Color Theme:
      <select>
        <option>White/Blue</option>
        <option>Blue/White</option>
      </select>
    </p>
    <p>Two Color Grid:
      <select>
        <option>Off</option>
        <option>On</option>
      </select>
    </p>
  </section>
  <section id="shortcuts">
    <h3>Shortcuts</h3>
    <ul>
      <li><span><i>ESC</i></span>Cancel or Close</li>
      <li><span><i>CTRL</i><i>Z</i></span>Undo</li>
      <li><span><i>?</i></span>Keyboard Shortcuts</li>
    </ul>
  </section>
  <section id="about">
    <h3>About</h3>
    <h2 style="text-align: center; margin: 0">reallysketch.com</h2>
    <p style="text-align: center;">version 0.2.2</p>
    <p>The inspiration was from an older <a target="_blank" href="http://tommaitland.net/2012/07/online-graph-paper-tool/">online graph paper</a>.
      If there is something that should be improved, <a id="dynamic" href="#">let me know</a>.
      Or, if you find this extremely useful and use it all the time, <a target="_blank" href="https://www.paypal.me/chrispalmeri">beer me</a>.</p>
  </section>
</div>
</section>

</aside>

<footer>
  <span id="help"></span>
  <span id="coords"></span>
</footer>

</body>
</html>